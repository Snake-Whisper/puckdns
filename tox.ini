[testenv]
basepython = python3.8

[testenv:test]
deps = pytest
commands = pytest -v
passenv = PUCKDNS_PASSWORD PUCKDNS_USERNAME PUCKDNS_DOMAIN

[testenv:docs]
description = invoke sphinx-build to build the HTML docs
deps = sphinx >= 1.7.5
commands = sphinx-build -d "{toxworkdir}/docs_doctree" doc "{toxworkdir}/docs_out" --color -W -bhtml {posargs}
           python -c 'import pathlib; print("documentation available under file://\{0\}".format(pathlib.Path(r"{toxworkdir}") / "docs_out" / "index.html"))'